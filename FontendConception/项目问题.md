# 项目问题

#### 移动端某些浏览器 用click 会有300ms延迟

使用 fastclick 库

```
import fastClick from 'fastclick'

fastClick.attach(document.body)
```

原理:  移动端，当用户点击屏幕时，会依次触发 `touchstart`，`touchmove`(0 次或多次)，`touchend`，`mousemove`，`mousedown`，`mouseup`，`click`。 `touchmove` 。只有当手指在屏幕发生移动的时候才会触发 `touchmove` 事件。在 `touchstart` ，`touchmove` 或者 `touchend` 事件中的任意一个调用 `event.preventDefault`，`mouse` 事件 以及 `click` 事件将不会触发。

fastClick 在 `touchend` 阶段 调用 `event.preventDefault`，然后通过 `document.createEvent` 创建一个 `MouseEvents`，然后 通过 `eventTarget.dispatchEvent` 触发对应目标元素上绑定的 `click` 事件。



CSS 图片设置高度

```css
.wrapper
    width:100%
    height:0
    overflow:hidden
    padding-bottom: 50%

//兼容性没那么好
  .wrapper
    width:100%
    height:50vw
```

