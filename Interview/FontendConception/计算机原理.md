# 计算机原理

#### 在浏览器输入 URL 回车之后发生了什么

1. URL 解析
2. DNS 查询
3. TCP 连接
4. 处理请求
5. 接受响应
6. 渲染页面



**1. URL解析**

**地址解析：**首先判断你输入的是一个合法的 URL 还是一个待搜索的关键词，并且根据你输入的内容进行自动完成、字符编码等操作。

强制客户使用HTTPS访问页面 ：**https**协议是由SSL+http协议构建的可进行加密传输、身份认证的网络协议，要比http协议安全，可防止数据在传输过程中不被窃取、改变，确保数据的完整性。

**检查缓存**

![img](https://pic1.zhimg.com/80/v2-0489444034d569b37867e2e527a7d5d4_720w.jpg)



**2. DNS查询**



#### HTTP1.1与HTTP2.0

可以通过设置延迟时间，让连接延迟关闭。但仍然有线头阻塞，max-connection最大连接限制了并行请求数量等痛点，难以应对日益增长的大数据实时传输。

#### HTTPS 与 HTTP

HTTP 主要内容分为三部分，**超文本（Hypertext）、传输（Transfer）、协议（Protocol）**。

 说到 HTTP，不得不提的就是 TCP/IP 网络模型，一般是五层模型。如下图所示

![img](https://pic4.zhimg.com/80/v2-a0eeeef2d69e44e1434c01f341660a0f_720w.jpg)

而 HTTPS 的全称是 `Hypertext Transfer Protocol Secure`，从名称我们可以看出 HTTPS 要比 HTTPS 多了 secure 安全性这个概念，实际上， HTTPS 并不是一个新的应用层协议，它其实就是 HTTP + TLS/SSL 协议组合而成，而安全性的保证正是 TLS/SSL 所做的工作。

![img](https://pic3.zhimg.com/80/v2-2295aa8205ce9d03782cf88e8548ec5e_720w.jpg)

- HTTPS 是安全的协议，它通过 **密钥交换算法 - 签名算法 - 对称加密算法 - 摘要算法** 能够解决上面这些问题。

![img](https://pic2.zhimg.com/80/v2-5a1586214de589e083e3828f6ba3083d_720w.jpg)





#### Cookie，localStorage，sessionStorage 的区别

cookie是在HTML4中使用的给客户端保存数据的，也可以和session配合实现跟踪浏览器用户身份；而webstorage（包括：localStorage和sessionStorage）是在HTML5提出来的，纯粹为了保存数据，不会与服务器端通信。WebStorage两个主要目标：（1）提供一种在cookie之外存储会话数据的路径。（2）提供一种存储大量可以跨会话存在的数据的机制。


**cookie** 如果不设置有效期，那么就是临时存储（存储在内存中），是会话级别的，会话结束后，cookie 也就失效了，如果设置了有效期，那么cookie 存储在硬盘里，有效期到了，就自动消失了

**localStorage** 的生命周期是永久的，关闭页面或浏览器之后localStorage****中的数据也不会消失。localStorage 除非主动删除数据，否则数据永远不会消失。

**sessionStorage** 仅在当前会话下有效。sessionStorage引入了一个“浏览器窗口”的概念，sessionStorage是在同源的窗口中始终存在的数据。只要这个浏览器窗口没有关闭，即使刷新页面或者进入同源另一个页面，数据依然存在。但是sessionStorage在关闭了浏览器窗口后就会被销毁。同时独立的打开同一个窗口同一个页面，sessionStorage也是不一样的。

    如果说把cookie的有效期设置为永远永远，永久，那么就是localStorage。
    cookie没有设置有效期，那么就是sessionStorage
**网络流量：cookie** 的数据每次都会发给服务器端，而localstorage 和sessionStorage 不会与服务器端通信，纯粹为了保存数据，所以，webstorage更加节约网络流量。

**大小限制：cookie**大小限制在4KB，非常小；localstorage和sessionStorage在5M

**安全性：**WebStorage不会随着HTTP header发送到服务器端，所以安全性相对于cookie来说比较高一些，不会担心截获.

**使用方便性上**：WebStorage提供了一些方法，数据操作比cookie方便；

           setItem (key, value) ——  保存数据，以键值对的方式储存信息。
      　　  getItem (key) ——  获取数据，将键值传入，即可获取到对应的value值。
        　　removeItem (key) ——  删除单个数据，根据键值移除对应的信息。
        　　clear () ——  删除所有的数据
        　　key (index) —— 获取某个索引的key
